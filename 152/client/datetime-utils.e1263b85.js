const e=/\d+/g,t=/%[HMSpPdmyY%]/g;function r(r,a,n){const l=Math.floor((new Date).getFullYear()/100);let s=!1;if(""===r)return null;const u=a.split(t);let o=0,g=0;const c=new Date(0);for(const t of u){if(!r.startsWith(t,o))return n;if(o+=t.length,o===r.length){if(g!==a.length)return n;break}if("%"!==a[g+t.length])break;if(g+=t.length+1,"%"===a[g]){if("%"!==r[o])return n;o++}else if("p"===a[g].toLowerCase()){const e=r.substr(o,2).toUpperCase();if("AM"===e)s=!1,c.getHours()>=12&&c.setHours(c.getHours()-12);else{if("PM"!==e)return n;s=!0,c.getHours()<12&&c.setHours(c.getHours()+12)}}else{e.lastIndex=o;const t=e.exec(r);if(null==t)return n;switch(a[g]){case"H":c.setHours(parseInt(t[0])+12*s);break;case"M":c.setMinutes(t[0]);break;case"S":c.setSeconds(t[0]);break;case"d":c.setDate(t[0]);break;case"m":c.setMonth(t[0]-1);break;case"y":c.setFullYear(100*l+parseInt(t[0]));break;case"Y":c.setFullYear(t[0])}o+=t[0].length}g++}return isNaN(c.valueOf())?n:c}function a(e,t){if(null==e)return null;let r=e.getHours();return/%p/i.test(t)&&(r%=12,0===r&&(r=12)),t.replace("%Y",e.getFullYear()).replace("%y",(e.getFullYear()%100).toString().padStart(2,"0")).replace("%m",(e.getMonth()+1).toString().padStart(2,"0")).replace("%d",e.getDate().toString().padStart(2,"0")).replace("%H",r.toString().padStart(2,"0")).replace("%M",e.getMinutes().toString().padStart(2,"0")).replace("%S",e.getSeconds().toString().padStart(2,"0")).replace("%p",e.getHours()<12?"am":"pm").replace("%P",e.getHours()<12?"AM":"PM").replace("%%","%")}function n(e,t){const r=new Intl.DateTimeFormat(e,{weekday:"short"}),a=new Date(0),n=[];for(let e=0;e<7;++e)a.setDate(5+t-1+e),n.push(r.format(a));return n}function l(e,t){return null!=e&&null!=t&&(e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate())}function s(e,t){return null!=e&&null!=t&&new Date(e.getFullYear(),e.getMonth(),e.getDate())<=new Date(t.getFullYear(),t.getMonth(),t.getDate())}function u(e,t,r){const a=[],n=new Date(0);n.setFullYear(t,e),n.setDate(1-(7+n.getDay()-r)%7);do{const t=[];for(let r=0;r<7;++r)t.push({value:new Date(n.valueOf()),outside:n.getMonth()!==e}),n.setDate(n.getDate()+1);a.push(t)}while(n.getMonth()===e);return a}function o(e,t){return null==t?e:(t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t)}function g(e,t){return null==t?e:(t.setHours(e.getHours(),e.getMinutes(),e.getSeconds()),t)}function c(e){return null==e?null:new Date(e.valueOf())}export{o as a,s as b,c,l as d,n as e,a as f,u as g,g as h,r as p};
